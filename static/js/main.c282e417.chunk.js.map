{"version":3,"sources":["component/Navbar.js","component/useFetch.js","component/MyTable.js","component/Home.js","component/Create.js","component/NotFound.js","App.js","index.js"],"names":["NavbarCustom","Navbar","bg","expand","Container","Brand","href","id","Toggle","Collapse","className","Nav","Link","useFetch","url","useState","data","setData","isPending","setIsPending","error","setError","useEffect","abortCont","AbortController","setTimeout","fetch","signal","then","res","ok","Error","json","responseJson","comuni","catch","err","name","console","log","message","abort","ExpandedComponent","details","columns","selector","row","comune","sortable","provincia","regione","MyTable","blogs","expandableRows","expandableRowsComponent","defaultSortFieldId","pagination","defaultSortAsc","fixedHeader","Home","Create","setComune","score","setScore","setProvincia","setRegione","zona","setZona","dettagli","setDettagli","history","useHistory","onSubmit","e","preventDefault","blog","method","headers","body","JSON","stringify","push","type","required","value","onChange","target","NotFound","to","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c282e417.chunk.js","sourcesContent":["import { Navbar, Container, Nav } from 'react-bootstrap';\n\nconst NavbarCustom = () => {\n  return (\n      <Navbar bg=\"\" expand=\"xl\">\n        <Container>\n          <Navbar.Brand href=\"#home\" id=\"logo\"><h1>Valutazione Accessibilit√† <br/> Comuni Italiani</h1></Navbar.Brand>\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n          <Navbar.Collapse id=\"basic-navbar-nav\" className=\"flex-grow-0\">\n            <Nav className=\"me-auto\">\n              <Nav.Link href=\"/\">Dati</Nav.Link>\n              <Nav.Link href=\"/\">Progetto</Nav.Link>\n              <Nav.Link href=\"/\">Criteri</Nav.Link>\n              <Nav.Link href=\"/\">Idee</Nav.Link>\n            </Nav>\n          </Navbar.Collapse>\n        </Container>\n      </Navbar>\n  );\n}\n \nexport default NavbarCustom;\n\n/*\n\nimport { Link } from \"react-router-dom\";\n\n    <nav className=\"navbar\">\n      <Link to=\"/\"><h1></h1></Link>\n      <div className=\"links\">\n        <Link to=\"/\">Dati</Link>\n        <Link to=\"/\">Progetto</Link>\n        <Link to=\"/\">Criteri</Link>\n        <Link to=\"/\">Idee</Link>\n        <Link to=\"/create\" className=\"nav-button\">Aggiungi Comune</Link>\n      </div>\n    </nav>\n\n*/","import { useState, useEffect } from 'react';\n\nconst useFetch = (url) => {\n  const [data, setData] = useState(null);\n  const [isPending, setIsPending] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const abortCont = new AbortController();\n\n    setTimeout(() => {\n      fetch(url, { signal: abortCont.signal })\n      .then(res => {\n        if (!res.ok) { // error coming back from server\n          throw Error('could not fetch the data for that resource');\n        } \n        return res.json();\n      })\n      .then((responseJson) => {\n        return responseJson.comuni;\n      })\n      .then(data => {\n        setIsPending(false);\n        setData(data);\n        setError(null);\n      })\n      .catch(err => {\n        if (err.name === 'AbortError') {\n          console.log('fetch aborted')\n        } else {\n          // auto catches network / connection error\n          setIsPending(false);\n          setError(err.message);\n        }\n      })\n    }, 1000);\n\n    // abort the fetch\n    return () => abortCont.abort();\n  }, [url])\n\n  return { data, isPending, error };\n}\n \nexport default useFetch;","import DataTable from 'react-data-table-component';\n\nconst ExpandedComponent = ({ data }) => <pre>{data.details}</pre>;\n\nconst columns = [\n    {\n        name: 'Comune',\n        selector: row => row.comune,\n        sortable: true,\n    },\n    {\n        name: 'Provincia',\n        selector: row => row.provincia,\n        sortable: true,\n    },\n    {\n        name: 'Regione',\n        selector: row => row.regione,\n        sortable: true,\n    },\n   /* {\n        name: 'Zona',\n        selector: row => row.zona,\n        sortable: true,\n    },\n    {\n        name: 'Criteri superati',\n        selector: row => row.criteri_superati,\n        sortable: true,\n    },\n    {\n        name: 'Criteri NON superati',\n        selector: row => row.criteri_non_superati,\n        sortable: true,\n    },\n    {\n        name: 'Criteri non valutabili',\n        selector: row => row.criteri_non_valutabili,\n        sortable: true,\n    },\n    {\n        name: 'Navigazione da tastiera',\n        selector: row => row.regole.navigazione_tastiera,\n        sortable: true,\n        conditionalCellStyles : [\n            {\n                when: row => row.regole.navigazione_tastiera === 1,\n                style: {\n                    backgroundColor: 'rgba(63, 195, 128, 0.5)',\n                    color: 'white',\n                    '&:hover': {\n                        cursor: 'pointer',\n                    }\n                }\n                \n            }, \n            {\n                when: row => row.regole.navigazione_tastiera === 0,\n                style: {\n                    backgroundColor: 'rgba(220, 20, 60, 0.5)',\n                    color: 'white',\n                    '&:hover': {\n                        cursor: 'pointer',\n                    },\n                }\n            }\n        ]\n    },\n    {\n        name: 'Data',\n        selector: row => row.data_ultima_verifica,\n        sortable: true,\n    },*/\n];\n\n\nconst MyTable = ({blogs}) => {\n    return (\n        <DataTable\n            columns={columns}\n            data={blogs}\n            expandableRows\n            expandableRowsComponent={ExpandedComponent}\n            defaultSortFieldId={1}\n            pagination\n            defaultSortAsc={false}\n            fixedHeader\n            \n        />    \n    );\n};\n\nexport default MyTable;","import useFetch from \"./useFetch\";\nimport MyTable from \"./MyTable\";\n\nconst Home = () => {\n  const { error, isPending, data: blogs } = useFetch('https://raw.githubusercontent.com/dianaberna/valutazione-a11y-comuni-italiani/main/data/db.json') \n  \n  return (\n    <div className=\"container home\">\n      <div className=\"row\">\n        <div className=\"col col-lg-2 col-md-1 home-disclaimer\">\n          <p>356 siti di comuni italiani su 7904 sono accessibili. </p>\n          <p>In Italia (secondo Istat) ci sono 3,1 milioni persone disabili, il 5,2% della popolazione italiana.</p>\n        </div>\n      </div>\n      { error && <div>{ error }</div> }\n      { isPending && <div>Loading...</div> }    \n      { blogs && <MyTable blogs={blogs}/> }\n    </div>\n  );\n}\n \nexport default Home;","import { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Create = () => {\n  const [comune, setComune] = useState('');\n  const [score, setScore] = useState('');\n  const [provincia, setProvincia] = useState('');\n  const [regione, setRegione] = useState('');\n  const [zona, setZona] = useState('');\n  const [dettagli, setDettagli] = useState('');\n  const history = useHistory();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const blog = { comune, provincia, regione, zona, dettagli};\n\n    fetch('http://localhost:8000/comuni', {\n      method: 'POST',\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(blog)\n    }).then(() => {\n      // history.go(-1);\n      history.push('/');\n    })\n  }\n  \n  return (\n    <div className=\"create\">\n      <h2>Aggiungi un nuovo comune </h2>\n      <form onSubmit={handleSubmit}>\n        <label>Comune:</label>\n        <input \n          type=\"text\" \n          required \n          value={comune}\n          onChange={(e) => setComune(e.target.value)}\n        />\n        <label>Provincia:</label>\n        <input \n          type=\"text\" \n          required \n          value={provincia}\n          onChange={(e) => setProvincia(e.target.value)}\n        />\n        <label>Regione:</label>\n        <input \n          type=\"text\" \n          required \n          value={regione}\n          onChange={(e) => setRegione(e.target.value)}\n        />\n        <label>Zona:</label>\n        <input \n          type=\"text\" \n          required \n          value={zona}\n          onChange={(e) => setZona(e.target.value)}\n        />\n        <label>Punteggio:</label>\n        <select \n          required \n          value={score}\n          onChange={(e) => setScore(e.target.value)}>\n          <option>1</option>\n          <option>2</option>\n          <option>3</option>\n          <option>4</option>\n          <option>5</option>\n        </select>\n        <label>Dettagli:</label>\n        <textarea\n          value={dettagli}\n          onChange={(e) => setDettagli(e.target.value)}>\n        </textarea>\n        \n        <button>Aggiungi</button>\n      </form>\n    </div>\n  );\n}\n \nexport default Create;","import { Link } from \"react-router-dom\"\n\nconst NotFound = () => {\n  return (\n    <div className=\"not-found\">\n      <h2>Sorry</h2>\n      <p>That page cannot be found</p>\n      <Link to=\"/\">Back to the homepage...</Link>\n    </div>\n  );\n}\n \nexport default NotFound;","import Navbar from './component/Navbar';\nimport Home from './component/Home';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport Create from './component/Create';\nimport NotFound from './component/NotFound';\n\nfunction App() {\n  return (\n    <Router>\n      <div className=\"App\">\n        <Navbar />\n        <div className=\"content\">\n          <Switch>\n            <Route exact path=\"/\">\n              <Home />\n            </Route>\n            <Route path=\"/create\">\n              <Create />\n            </Route>\n            <Route path=\"*\">\n              <NotFound />\n            </Route>\n          </Switch>\n        </div>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './styles/index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}